// Copyright (c) 2012 Daniele Mazzini - https://github.com/danmaz74 - see original for non-minified version, documentation, & license
var ABalytics={changes:[],init:function(e,t,n){"undefined"==typeof n&&(n=1);for(var a in e){var s=e[a],o=this.readCookie("ABalytics_"+a);o&&s[o]||(o=Math.floor(Math.random()*s.length),document.cookie="ABalytics_"+a+"="+o+"; path=/");var r=s[o];t.push(["_setCustomVar",n,a,r.name,2]),n++;for(var l in r)"name"!=l&&this.changes.push([l,r[l]])}},applyHtml:function(){for(var e=0;e<this.changes.length;e++)for(var t=this.changes[e],n=document.getElementsByClassName?document.getElementsByClassName(t[0]):this.getElementsByClassName(t[0]),a=0;a<n.length;a++)n[a].innerHTML=t[1]},readCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var s=n[a];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null},getElementsByClassName:function(e){for(var t,n=new RegExp("(?:^|\\s)"+e+"(?:$|\\s)"),a=document.getElementsByTagName("*"),s=[],o=0;null!=(t=a[o]);o++){var r=t.className;r&&-1!=r.indexOf(e)&&n.test(r)&&s.push(t)}return s}};window.onload=function(){ABalytics.applyHtml()};
